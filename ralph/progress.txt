## Codebase Patterns
- Tauri commands are organized in separate modules (e.g., `storage/todo.rs`, `enhancer.rs`)
- Commands return `Result<T, String>` for error handling
- Module must be declared in `lib.rs` and command added to `invoke_handler`
- Use `shell_escape` pattern (single quotes with escaped inner quotes) for shell command arguments

---

## 2026-01-14 - US-001
- What was implemented:
  - Created `src-tauri/src/enhancer.rs` with `enhance_prompt` Tauri command
  - Command executes Claude CLI via `echo 'text' | claude -p 'instruction'`
  - Proper shell escaping using single-quote wrapping with escaped inner quotes
  - Error handling for empty input, CLI execution failures, and empty responses
  - Registered module and command in `lib.rs`
- Files changed:
  - `src-tauri/src/enhancer.rs` (new)
  - `src-tauri/src/lib.rs` (modified - added module and command)
- **Learnings for future iterations:**
  - Commands don't need State if they don't access database
  - Shell escaping with single quotes is safer than double quotes (no variable expansion)
  - The `ENHANCE_INSTRUCTION` constant contains the system prompt for the CLI
---

# PipeWire Screen Capture - Progress Tracker

## Current Status: In Progress

## Tasks

- [x] Add PipeWire dependencies to Cargo.toml
- [ ] Add new error variants to RecorderError
- [ ] Create pipewire_capture module with portal integration
- [ ] Implement PipeWire stream frame capture
- [ ] Refactor recorder.rs to use pipewire_capture
- [ ] Update frontend with capture mode buttons
- [ ] Manual verification of PipeWire capture

## Notes

Target: Replace xcap (~3fps) with PipeWire (~60fps) on Wayland.

---

## 2026-01-17 - Add PipeWire Dependencies

- **What was implemented:** Added PipeWire dependencies to Cargo.toml for Wayland screen capture
- **Files changed:**
  - `src-tauri/Cargo.toml` - Added ashpd v0.11 (with tokio feature), pipewire v0.8, and libspa v0.8
- **Learnings for future iterations:**
  - ashpd v0.10 has compatibility issues with zbus; use v0.11+ for proper zbus 5.x support
  - ashpd requires the `tokio` feature to work with Tauri's async runtime
  - libspa is required alongside pipewire for SPA buffer handling

# Manage Tags Modal Refactor - Progress Log

## Feature Overview
Refactor "Manage Tags" from a full-screen view to a compact modal within the folder context. The modal opens from the tag button in the input area, featuring inline tag editing (click to edit), color picker dropdown, and two-step delete pattern.

## Design Decisions
- Modal style: Compact popover-style (~300px wide, max ~350px height)
- Trigger: Tag button in input area opens modal (instead of view navigation)
- Tag editing: Click tag name for inline edit (no nested modal)
- Color editing: Click color dot for dropdown picker (8 colors in 2x4 grid)
- Delete: Two-step pattern (first click shows checkmark, second confirms)
- Layout: "TAGS" section label instead of border separator
- Empty state: "No tags yet" centered muted text

---

## 2026-01-16 - Task 1: Remove 'tags' view from navigation system
- What was implemented:
  - Removed 'tags' from TodoView type (now only 'folders' | 'list')
  - Removed tags view case from header configuration
  - Removed tags view case from main render switch
  - Changed tag button to no-op (will be wired to modal in Task 6)
  - Cleaned up unused components/functions that were orphaned:
    - Removed handleCreateTag, handleEditTag, handleDeleteTag handlers (will be recreated in Task 6)
    - Removed createTag, updateTag, deleteTag from destructured storage (will be re-added in Task 6)
    - Removed TodoPluginTagManager, TodoPluginTagManagerList, TodoPluginTagCard, TodoPluginTagEditModal
    - Removed TodoPluginCreateTagRow, TodoPluginColorPicker, TodoPluginInlineColorPicker
    - Exported TAG_COLORS for future use in color picker components
- Files changed:
  - src/plugins/todo/TodoPlugin.tsx
- **Learnings for future iterations:**
  - TypeScript's noUnusedLocals flag catches orphaned code during refactors - good for incremental cleanup
  - Exporting constants that will be reused (TAG_COLORS) is a clean way to keep them during transitions
  - Removing components that will be recreated is cleaner than suppressing warnings during transitional states

## 2026-01-16 - Task 2: Create ManageTagsModal component
- What was implemented:
  - Created TodoPluginManageTagsModal component with header, close button, and proper modal styling
  - Created TodoPluginCreateTagRow component for creating new tags with color picker and name input
  - Created TodoPluginManageTagRow component displaying tag color dot, name, and delete button (two-step delete)
  - Created TodoPluginColorPickerDropdown component (8 colors in 2x4 grid, click outside to close)
  - Added 'TAGS' section label (text-xs text-muted-foreground font-medium)
  - Scrollable tag list area (max-height 250px)
  - Modal width 300px (compact popover-style)
  - Empty state: "No tags yet" centered muted text
  - Re-added createTag, updateTag, deleteTag to destructured storage
  - Added isManageTagsOpen state and wired tag button to open modal
- Files changed:
  - src/plugins/todo/TodoPlugin.tsx
- **Learnings for future iterations:**
  - TAG_COLORS is a readonly const array - need to explicitly type state as `string` when initializing with its values
  - Reused usePendingDelete hook for two-step delete pattern in tag rows
  - Modal follows existing pattern: overlay with backdrop-blur, onClick on overlay closes, stopPropagation on inner container


[
  {
    "category": "frontend",
    "description": "Remove 'tags' view from navigation system",
    "steps": [
      "Remove 'tags' from TodoView type (keep only 'folders' | 'list')",
      "Remove tags view case from header configuration",
      "Remove tags view case from main render switch",
      "Remove setView('tags') call from tag button"
    ],
    "shouldCommit": true,
    "passes": true,
    "notes": "This simplifies the navigation from 3-view to 2-view system."
  },
  {
    "category": "frontend",
    "description": "Create ManageTagsModal component",
    "steps": [
      "Create modal using shadcn Dialog component",
      "Add header with 'Manage Tags' title and close button",
      "Include existing TodoPluginCreateTagRow component for tag creation",
      "Add 'TAGS' section label (text-xs text-muted-foreground font-medium)",
      "Add scrollable tag list area (max-height ~250px)",
      "Set modal width to ~300px (compact popover-style)"
    ],
    "shouldCommit": true,
    "passes": true,
    "notes": "Reuse existing create tag row component. No border separator - use TAGS label instead."
  },
  {
    "category": "frontend",
    "description": "Implement inline tag editing",
    "steps": [
      "Create TagRow component with idle and edit states",
      "Idle state: color dot, tag name, delete icon (on hover)",
      "Click tag name → input replaces text, auto-focused, text selected",
      "Add save (checkmark) and cancel (X) buttons in edit mode",
      "Enter key or checkmark → save changes",
      "Escape key or X → cancel and revert",
      "Click outside row → save changes (blur-save)",
      "Validate: prevent empty names, warn on duplicates"
    ],
    "shouldCommit": true,
    "passes": false,
    "notes": "Remove TodoPluginTagEditModal - no longer needed with inline editing."
  },
  {
    "category": "frontend",
    "description": "Implement color picker dropdown",
    "steps": [
      "Make color dot clickable in TagRow",
      "Show small dropdown below color dot on click",
      "Display 8 color options in 2 rows of 4",
      "Click color → select and close dropdown",
      "Click outside → close without change",
      "Reuse existing TAG_COLORS array"
    ],
    "shouldCommit": true,
    "passes": false,
    "notes": "Use Popover component for the dropdown. Keep it minimal."
  },
  {
    "category": "frontend",
    "description": "Implement two-step delete in modal",
    "steps": [
      "Add delete icon to TagRow (visible on hover)",
      "First click → icon changes to checkmark",
      "Second click → confirms deletion",
      "Auto-reset to trash icon after 1.5s if no second click",
      "Reuse existing usePendingDelete hook"
    ],
    "shouldCommit": true,
    "passes": false,
    "notes": "This matches the existing app pattern for delete confirmation."
  },
  {
    "category": "frontend",
    "description": "Wire up modal trigger from tag button",
    "steps": [
      "Add isManageTagsOpen state to TodoPlugin",
      "Tag button in input area opens modal instead of changing view",
      "Pass necessary props: tags, createTag, updateTag, deleteTag",
      "Modal closes on: X button, click outside, Escape key"
    ],
    "shouldCommit": true,
    "passes": false,
    "notes": "The tag button is in TodoPluginInputArea around line 337."
  },
  {
    "category": "frontend",
    "description": "Add empty state for tag list",
    "steps": [
      "Show 'No tags yet' centered muted text when tags array is empty",
      "Keep 'TAGS' label visible even in empty state"
    ],
    "shouldCommit": true,
    "passes": false,
    "notes": "Simple empty state, no illustrations needed."
  },
  {
    "category": "cleanup",
    "description": "Remove unused tag view components",
    "steps": [
      "Remove TodoPluginTagManager component",
      "Remove TodoPluginTagManagerList component",
      "Remove TodoPluginTagCard component (replaced by TagRow)",
      "Remove TodoPluginTagEditModal component",
      "Clean up any unused imports"
    ],
    "shouldCommit": true,
    "passes": false,
    "notes": "Run bun tsc --noEmit to verify no broken imports."
  },
  {
    "category": "test",
    "description": "Manual verification of manage tags modal",
    "steps": [
      "Verify modal opens from tag button in input area",
      "Test create new tag with color selection",
      "Test inline edit: click name, edit, Enter to save",
      "Test inline edit: click name, edit, Escape to cancel",
      "Test color picker: click dot, select color, verify change",
      "Test two-step delete: first click shows check, second deletes",
      "Test empty state when no tags exist",
      "Run bun tsc --noEmit"
    ],
    "shouldCommit": false,
    "passes": false,
    "notes": "Test with existing tags to ensure data is preserved."
  }
]
